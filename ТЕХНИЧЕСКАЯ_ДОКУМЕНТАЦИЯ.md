# ТЕХНИЧЕСКАЯ ДОКУМЕНТАЦИЯ
## Информационная система "Школьная столовая"

---

## СОДЕРЖАНИЕ

1. [ВВЕДЕНИЕ](#введение)
   - 1.1 Проблема
   - 1.2 Цель проекта
   - 1.3 Задачи проекта
   - 1.4 Актуальность
   - 1.5 Ожидаемые результаты проекта
2. [ПОИСКОВО-ИССЛЕДОВАТЕЛЬСКИЙ ЭТАП](#1-поисково-исследовательский-этап)
   - 1.1 Анализ предметной области
   - 1.2 Анализ аналогов
   - 1.3 Выбор технологий
   - 1.4 Описание выбранных средств разработки
   - 1.5 Формулировка технического задания
3. [КОНСТРУКТОРСКО-ТЕХНОЛОГИЧЕСКИЙ ЭТАП](#2-конструкторско-технологический-этап)
   - 2.1 Проектирование архитектуры системы
   - 2.2 Проектирование базы данных
   - 2.3 Моделирование бизнес-процессов (Use Case)
   - 2.4 Реализация серверной части
   - 2.5 Реализация клиентской части
4. [ЗАКЛЮЧИТЕЛЬНЫЙ ЭТАП](#3-заключительный-этап)
   - 3.1 Тестирование
   - 3.2 Результаты работы
5. [СПИСОК ИСПОЛЬЗУЕМЫХ ИСТОЧНИКОВ](#список-используемых-источников)
6. [ПРИЛОЖЕНИЕ А - Диаграмма вариантов использования](#приложение-а)
7. [ПРИЛОЖЕНИЕ Б - Схема базы данных (ER-диаграмма)](#приложение-б)
8. [ПРИЛОЖЕНИЕ В - API эндпоинты](#приложение-в)
9. [ПРИЛОЖЕНИЕ Г - Скриншоты интерфейса](#приложение-г)

---

## ВВЕДЕНИЕ

### 1.1 Проблема

В современных школах организация питания учащихся часто сопровождается рядом проблем:
- Длинные очереди в столовой из-за ручного расчёта наличными деньгами.
- Отсутствие инструмента контроля над финансами учащихся со стороны родителей.
- Невозможность заранее узнать меню и спланировать питание.
- Сложности с учётом аллергий и диетических ограничений учеников.
- Отсутствие механизма обратной связи о качестве блюд для администрации.
- Высокая трудоёмкость администрирования процессов закупок и финансовой отчётности.

### 1.2 Цель проекта

Цель проекта — создание автономной информационной системы для автоматизации процессов школьного питания, обеспечивающей электронный заказ, систему безналичной оплаты, учёт предпочтений учащихся и формирование автоматической отчётности для администрации школы и столовой.

### 1.3 Задачи проекта

1. Провести детальный анализ предметной области организации школьного питания.
2. Изучить существующие аналоги систем автоматизации столовых.
3. Осуществить выбор оптимального стека технологий для разработки веб-приложения.
4. Разработать архитектуру системы и спроектировать базу данных.
5. Создать программный код серверной части (Backend).
6. Разработать пользовательский интерфейс для трёх ролей пользователей (Frontend).
7. Реализовать систему электронных талонов (QR-коды).
8. Внедрить модуль отзывов и рейтингов.
9. Провести функциональное тестирование системы.
10. Подготовить техническую документацию.

### 1.4 Актуальность

Внедрение цифровых сервисов в образовательный процесс является государственным приоритетом. Информационная система "Школьная столовая" решает насущные проблемы организации питания, повышая скорость обслуживания, прозрачность финансовых потоков и удовлетворённость учащихся качеством еды. Система также способствует формированию культуры здорового питания благодаря открытости меню и составов блюд.

### 1.5 Ожидаемые результаты проекта

В результате работы будет создано веб-приложение "Школьная столовая", удовлетворяющее следующим требованиям:
- Наличие личных кабинетов для Ученика, Повара и Администратора.
- Функционал электронного меню с фото и ценами.
- Возможность покупки блюд с баланса ученика.
- Система подтверждения получения заказа через электронный талон.
- Модуль отзывов и рейтингов блюд.
- Инструменты для планирования закупок продуктов.
- Автоматическая генерация отчётов по продажам и расходам.

---

## 1 ПОИСКОВО-ИССЛЕДОВАТЕЛЬСКИЙ ЭТАП

### 1.1 Анализ предметной области

Процесс школьного питания включает в себя взаимодействие нескольких сторон:
1. **Столовая (Повар)**: планирует меню, закупает продукты, готовит блюда.
2. **Потребители (Ученики)**: выбирают блюда, оплачивают, потребляют, оценивают.
3. **Управление (Администрация)**: контролирует финансы, качество, утверждает закупки.

Ключевым процессом является цикл: Планирование меню -> Закупка -> Приготовление -> Продажа -> Отзыв.

### 1.2 Анализ аналогов

Были проанализированы существующие на рынке решения.

**Таблица 1 — Сравнительный анализ аналогов**

| Система | Достоинства | Недостатки |
|---------|-------------|------------|
| **"Аксиома"** | Полная интеграция с банковскими системами, терминалы оплаты. | Высокая стоимость внедрения и обслуживания оборудования. Закрытая экосистема. |
| **"Ладошки"** (Сбербанк) | Оплата по биометрии (ладони), удобный кабинет для родителей. | Требует установки дорогого сканирующего оборудования. Проблемы с персональными данными. |
| **"Глолайм"** | Безналичные карты, турникеты, буфет. | Сложный интерфейс, зависимость от физических карт. |

По результатам анализа принято решение разрабатывать собственную веб-систему, не требующую специального оборудования (работает на смартфонах/планшетах/ПК).

### 1.3 Выбор технологий

Для реализации проекта был выбран современный стек веб-технологий.

**Таблица 2 — Выбор средств реализации**

| Компонент | Выбранная технология | Обоснование выбора |
|-----------|----------------------|--------------------|
| **Язык Backend** | TypeScript (Node.js) | Строгая типизация, высокая производительность V8, единый язык с фронтендом. |
| **Фреймворк Backend** | Express.js | Минималистичный, гибкий, огромная экосистема middleware. |
| **База данных** | SQLite | Легковесная, не требует сервера БД, идеально для прототипа и малых внедрений. |
| **Язык Frontend** | TypeScript (React) | Лидер индустрии, компонентный подход, виртуальный DOM. |
| **Фреймворк Frontend** | Next.js 14 | Серверный рендеринг (SSR), встроенный роутинг, оптимизация изображений. |
| **UI Библиотека** | shadcn/ui + Tailwind | Быстрая вёрстка, современные доступные компоненты, легкая кастомизация. |

### 1.4 Описание выбранных средств разработки

**Node.js** — программная платформа, основанная на движке V8 (транслирующем JavaScript в машинный код), превращающая JavaScript из узкоспециализированного языка в язык общего назначения.
**Express** — веб-фреймворк для приложений Node.js, предоставляющий обширный набор функций для мобильных и веб-приложений.
**SQLite** — компактная встраиваемая СУБД. Представляет собой библиотеку, линкуемую с приложением.
**React** — JavaScript-библиотека с открытым исходным кодом для разработки пользовательских интерфейсов.
**Next.js** — фреймворк на поверх React, дающий функционал SSR (Server Side Rendering) и SSG (Static Site Generation).

### 1.5 Формулировка технического задания (ТЗ)

**1. Общие требования**
Система должна представлять собой веб-приложение, доступное через интернет-браузер. Интерфейс должен быть адаптирован под мобильные устройства.

**2. Требования к функционалу**

*Для роли "Ученик":*
- Регистрация и вход по логину/паролю.
- Просмотр меню (фильтрация: завтрак, обед).
- Просмотр баланса и его пополнение.
- Добавление блюд в корзину и покупка.
- Просмотр активного заказа (QR-код/номер).
- Подтверждение получения заказа.
- Оценка блюда (рейтинг 1-5 звезд) и текстовый отзыв.
- Настройка профиля (указание аллергий).

*Для роли "Повар":*
- Просмотр и редактирование меню.
- Указание количества доступных порций.
- Создание заявок на закупку продуктов.
- Просмотр склада.

*Для роли "Администратор":*
- Просмотр статистики продаж (выручка, популярные блюда).
- Утверждение или отклонение заявок на закупку.
- Генерация отчётов (HTML/PDF).

**3. Требования к дизайну**
Дизайн должен быть выполнен в светлой цветовой гамме, быть интуитивно понятным и минималистичным. Использовать современные принципы UX/UI.

---

## 2 КОНСТРУКТОРСКО-ТЕХНОЛОГИЧЕСКИЙ ЭТАП

### 2.1 Проектирование архитектуры системы

Архитектура приложения построена по принципу RESTful API. Клиентская часть (Frontend) взаимодействует с сервером (Backend) посредством HTTP-запросов, обмениваясь данными в формате JSON.

**Структурная схема взаимодействия:**

```
[ КЛИЕНТ (Браузер) ]
       |
  HTTP Запросы (GET, POST, PATCH)
       |
       v
[ СЕРВЕР (Node.js + Express) ]
   |      |       |
[Auth] [Student] [Admin]  <-- Контроллеры API
   |      |       |
       |
       v
[ ORM / Query Builder ]
       |
       v
[ БАЗА ДАННЫХ (SQLite) ]
```

### 2.2 Проектирование базы данных

База данных спроектирована в третьей нормальной форме для исключения избыточности.

**Описание таблиц:**
- `users`: Хранит учетные данные всех пользователей, их роли, баланс и информацию об аллергиях.
- `menu`: Содержит список всех блюд, их цены, описания и типы.
- `inventory`: Складской учет ингредиентов.
- `orders`: История покупок учеников. Связывает пользователя и блюдо.
- `reviews`: Хранит оценки и отзывы пользователей о блюдах.
- `procurement_requests`: Заявки повара на пополнение склада.

*(Подробная схема приведена в Приложении Б)*

### 2.3 Моделирование бизнес-процессов (Use Case)

**Сценарий "Покупка обеда":**
1. Ученик авторизуется в системе.
2. Система проверяет баланс.
3. Ученик выбирает блюдо в меню и нажимает "Купить".
4. Система проверяет доступное количество порций.
5. Если порции есть и баланс достаточен:
   - Списываются средства с баланса.
   - Уменьшается счетчик порций.
   - Создается запись в таблице `orders`.
   - Пользователю выдается "Электронный талон".
6. Ученик показывает талон повару.
7. Ученик нажимает "Подтвердить получение".
8. Заказ переходит в статус "completed".

### 2.4 Реализация серверной части

Сервер написан на TypeScript. В качестве менеджера пакетов используется `npm`.
Для обработки запросов используется паттерн "Маршрут-Контроллер-Сервис".

**Пример маршрута (student.ts):**
```typescript
router.get('/menu', async (req, res) => {
    const menu = await db.all('SELECT * FROM menu WHERE available_qty > 0');
    res.json(menu);
});
```

Реализована Middleware аутентификации, которая проверяет JWT-токен в заголовках запроса и защищает приватные маршруты.

### 2.5 Реализация клиентской части

Использована файловая маршрутизация Next.js (App Router).
- `/app/page.tsx` - Страница входа.
- `/app/student/page.tsx` - Дашборд студента (SSR + Client Components).
- `/app/admin/page.tsx` - Дашборд администратора.

Для состояния используется React Hooks (`useState`, `useEffect`). Взаимодействие с API вынесено в отдельный слой `services/api.ts`.
Дизайн реализован с помощью утилитарных классов Tailwind CSS, что позволяет быстро адаптировать верстку под разные экраны.

---

## 3 ЗАКЛЮЧИТЕЛЬНЫЙ ЭТАП

### 3.1 Тестирование

Было проведено ручное тестирование системы по следующим кейсам:

1. **Тест регистрации:** Создание пользователя с существующим именем -> Ошибка (Успешно).
2. **Тест покупки:** Покупка при нулевом балансе -> Ошибка "Недостаточно средств" (Успешно).
3. **Тест покупки:** Покупка доступного блюда -> Списание средств, появление талона (Успешно).
4. **Тест отзывов:** Отправка отзыва -> Появление его в списке отзывов у блюда (Успешно).
5. **Тест админки:** Генерация отчета -> Корректный подсчет итоговой суммы (Успешно).

### 3.2 Результаты работы

Все поставленные цели и задачи выполнены в полном объеме.
Разработана и протестирована информационная система "Школьная столовая".

**Достигнутые показатели:**
- Время обработки заказа сократилось (в теории) до 10-15 секунд (показ QR-кода).
- Реализована полная прозрачность меню и отзывов.
- Создан удобный инструмент администрирования.

Система готова к опытной эксплуатации и демонстрации.

---

## СПИСОК ИСПОЛЬЗУЕМЫХ ИСТОЧНИКОВ

1. Документация Node.js [Электронный ресурс]. URL: https://nodejs.org/docs/ (дата обращения: 02.02.2026).
2. Руководство по Express.js [Электронный ресурс]. URL: https://expressjs.com/ (дата обращения: 02.02.2026).
3. Документация Next.js [Электронный ресурс]. URL: https://nextjs.org/docs (дата обращения: 02.02.2026).
4. React Documentation [Электронный ресурс]. URL: https://react.dev/ (дата обращения: 02.02.2026).
5. Официальный сайт SQLite [Электронный ресурс]. URL: https://www.sqlite.org/docs.html (дата обращения: 02.02.2026).
6. Введение в JWT [Электронный ресурс]. URL: https://jwt.io/introduction (дата обращения: 02.02.2026).

---

## ПРИЛОЖЕНИЕ А
### Диаграмма вариантов использования (UML Use Case)

```
       +-----------------+
       |     Ученик      |
       +--------+--------+
                |
    +-----------+-----------+
    |           |           |
( Вход )   ( Покупка )  ( Отзыв )
    |           |           |
    +-----------+-----------+
                |
        +-------v-------+
        |    СИСТЕМА    |
        +-------^-------+
                |
    +-----------+-----------+
    |           |           |
( Меню )    ( Склад )   ( Отчет )
    |           |           |
    +-----------+-----------+
                |
       +--------+--------+
       |   Администратор |
       +-----------------+
```

---

## ПРИЛОЖЕНИЕ Б
### Схема базы данных (ER-диаграмма)

```
[USERS]
PK id
   username
   password
   role
   balance
   allergies

      ^ 1
      |
      | *
[ORDERS] ---------------> [MENU]
PK id                  PK id
FK user_id                name
FK menu_item_id           price
   status                 type
   date                   qty

      ^ *
      |
      | 1
[REVIEWS]
PK id
FK user_id
FK menu_item_id
   rating
   comment
```

---

## ПРИЛОЖЕНИЕ В
### API эндпоинты

**1. Auth**
- `POST /auth/register` - Регистрация
- `POST /auth/login` - Логин

**2. Student**
- `GET /student/menu` - Меню
- `POST /student/buy` - Покупка
- `POST /student/reviews` - Отзыв

**3. Cook**
- `POST /cook/menu` - Добавить блюдо
- `POST /cook/request` - Запрос товара

**4. Admin**
- `GET /admin/stats` - Статистика
- `PUT /admin/requests/:id/approve` - Одобрить запрос

---

## ПРИЛОЖЕНИЕ Г
### Скриншоты интерфейса

*(В данном разделе предполагается размещение скриншотов веб-интерфейса системы: страница входа, меню, модальное окно с чеком, панель администратора)*
